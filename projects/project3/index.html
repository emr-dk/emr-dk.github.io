<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/my_style.css><title>Min side | Opsætning af Hugo site på DigitalOcean</title><meta name=description content="Lær at arbejde med Git, Hugo og Digital Ocean"></head><body><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container><a class=navbar-brand href=http://emr-dk.github.io><b style=font-weight:800>E</b></a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/blog/>Ord</a></li><li class=nav-item><a class=nav-link href=/projects/>Projekter</a></li><li class=nav-item><a class=nav-link href=/library/>Bibliotek</a></li><li class=nav-item><a class=nav-link href=/about/>Om</a></li><li class="nav-item px-2 pt-1"><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container style=max-width:800px><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">Opsætning af Hugo site på DigitalOcean</h1></div><p class="text-center fs-4 fst-italic serif">Lær at arbejde med Git, Hugo og Digital Ocean</p><div class="text-center pt-4"></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Sep 24, 2022 -
Last updated: Sep 24, 2022</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4><span class=status>☁️</span></div><div class=col-sm-8 style=text-align:right></div></div></div></div><div class="container-fluid py-2"><div class="serif main-content"><h1 id=hugo-på-digitalocean>Hugo på DigitalOcean</h1><p>Hvis du gerne vil læse lidt om mine overvejelser vedrørende setuppet af denne side kan du finde det (her)[blog/3-en-hugo-site].</p><p>Min side er sat sådan op at alt arbejde arbejde jeg laver foregår lokalt på min egen computer. Jeg tester alt på en Ubuntu maskine der kører gennem WSL2 på en Windows computer. Jeg er positivt overrasket over hvor godt det fungerer - særligt i forhold til at dual-boote to styresystemer på én computer.
Jeg udarbejder rettelser og nye blog posts på min maskine og pusher dem så til Github, hvorfra DigitalOcean så ombygger min Hugo site når den ser ændringer i et designeret repositorie. En fordel ved denne model er at man har et par gratis hosts af statiske websider gennem digital ocean, hvilket udover at være gratis også har den fordel at man ikke skal vedligeholde en cloud maskine.</p><h2 id=hvad-skal-du-bruge>Hvad skal du bruge?</h2><ul><li>En WSL2 Ubuntu installation på din Windows maskine, eller en Ubuntu installation</li></ul><p>Resten klarer vi undervejs</p><h2 id=lav-en-lokal-git>Lav en lokal git</h2><p>Først skal man selvfølgelig have git installeret</p><pre><code>sudo apt-get update
sudo apt-get install git-all
</code></pre><p>Og Hugo installeret</p><pre><code>sudo apt-get install hugo
</code></pre><p>men når det er klaret kan du oprette dit hugo projekt ved at gøre følgende.</p><pre><code>hugo new site &lt;navn&gt;
</code></pre><p>Den mappe der bliver oprettet her, er der hvor projektet vil leve. Gå derfor ind i mappen og gør følgende:</p><pre><code>git init
git add .
git commit -m &quot;Første commit&quot;
</code></pre><p>Før du kan pushe dit første commit skal du oprette et repositorie på Github.</p><h2 id=koblingen-til-github>Koblingen til Github</h2><p>For at køre det hele fra commandline installerer vi lige githubs cli værktøj. Dette er bare tyvstjålet fra den (officielle vejledning)[https://github.com/cli/cli/blob/trunk/docs/install_linux.md]</p><pre><code>type -p curl &gt;/dev/null || sudo apt install curl -y
curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg \
&amp;&amp; sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg \
&amp;&amp; echo &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main&quot; | sudo tee /etc/apt/sources.list.d/github-cli.list &gt; /dev/null \
&amp;&amp; sudo apt update \
&amp;&amp; sudo apt install gh -y
</code></pre><p>Når det er klaret kan vi manipulere direkte med vores Github fra terminalen</p><pre><code>gh repo create
</code></pre><p>Dette giver en fin interaktiv vejledning som er nem nok at følge med i, dog skal du huske at vælge <em>Push an existing local repository to Github</em>, samt at sige <em>Yes</em> når der spørges om <em>Add a remote</em></p><p>Sidst i din terminal fortæller den også at den her <em>pushed commits to <url til nyoprettede git></em>. Altså er der nu en kobling mellem din lokale git og den du finder på Github.</p><h2 id=skal-du-bruge-et-theme>Skal du bruge et theme</h2><p>Én af de ting der fik mig til at bruge Hugo var nemheden i at tilføje et nyt tema. Hvis du, som mig, også er interesseret i dette kan du finde en lang, lang række temaer (her)[https://themes.gohugo.io/].</p><p>Jeg opdagede at der var en lang række udfordringer ved at bare at clone et repo som theme, men at det virkede perfekt som submodule. Så det gør vi.</p><p>Hvis du befinder dig i dit projekts grundfolder kan du gøre følgende:</p><pre><code>git submodule add &lt;repo .git&gt; 
</code></pre><p>Og når du så skal opdatere det en gang i fremtiden kan du bare lave et pull</p><pre><code>git submodule update
</code></pre><p>Jeg har selv clonet det theme jeg bruger, og foretaget rettelser i det. Derefter har jeg pushet de rettelser til min Github konto og bruger så dette som et submodule.</p><h2 id=opsætning-på-digitalocean>Opsætning på DigitalOcean</h2><p>Så er det om at komme i gang på DigitalOcean. Opret en konto og evt. et projekt og så kan vi komme i gang.</p><h3 id=kilder>Kilder</h3><p><a href=https://github.com/cli/cli/blob/trunk/docs/install_linux.md>https://github.com/cli/cli/blob/trunk/docs/install_linux.md</a>
<a href=https://www.djpeacher.com/posts/quick-hugo-deploy-with-github-actions/>https://www.djpeacher.com/posts/quick-hugo-deploy-with-github-actions/</a></p></div></div></div></div><div class=container><div class="row justify-content-between"><div class=col-sm-4><p class=footer>Emil Møller Rasmussen © 2022</p></div><div class="col-sm-6 d-flex flex-row-reverse"><a class="footer-social px-2" href=# target=_blank><i class="fab fa-twitter"></i></a>
<a class="footer-social px-2" href=github.com/gisemil target=_blank><i class="fab fa-github"></i></a>
<a class="footer-social px-2" href=linkedin.com/gisemil target=_blank><i class="fab fa-linkedin-in"></i></a></div></div></div><script src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/jquery.min.js></script>
<script src=/js/isotope.pkgd.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js integrity=sha384-GNFwBvfVxBkLMJpYMOABq3c+d3KnQxudP/mGPkzpZSTYykLBNsZEnG2D9G/X/+7D crossorigin=anonymous async></script>
<script src=/js/dark.js></script>
<script src=/js/isotope.js></script>
<script src=/js/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></body></html>